{"version":3,"file":"template.min.js","sources":["../../src/lib/template.js"],"sourcesContent":["/* eslint-disable */\n\nimport Templates from \"core/templates\";\nimport notification from \"core/notification\";\n\nexport const TEMPLATES = {\n  MAIN_SECTION: \"mod_tutoom/main_section\",\n  RECORDING_SECTION: \"mod_tutoom/recordings_section\",\n  RECORDING_TABLE_CONTENT: \"mod_tutoom/recordings_table_content\",\n  RECORDING_PAGINATION: \"mod_tutoom/recordings_pagination\",\n};\n\n/**\n *\n * @param {{data: any, type: string, callbackBeforeRender?: any, callbackAfterRender?: any}} params\n */\nexport const renderTemplate = async ({\n  data,\n  type,\n  callbackBeforeRender,\n  callbackAfterRender,\n}) => {\n  let el = null;\n  const elementMainSection = document.getElementById(\"tutoom-main-section\");\n  const elementRecordingTableContent = document.getElementById(\n    \"tutoom-recordings-table-content\"\n  );\n  const elementRecordingSection = document.getElementById(\n    \"tutoom_view_recordings\"\n  );\n  const elementPagination = document.getElementById(\n    \"tutoom_view_recordings_pagination\"\n  );\n\n  if (type === TEMPLATES.MAIN_SECTION) el = elementMainSection;\n  if (type === TEMPLATES.RECORDING_SECTION)\n    el = elementRecordingSection;\n  if (type === TEMPLATES.RECORDING_TABLE_CONTENT)\n    el = elementRecordingTableContent;\n  if (type === TEMPLATES.RECORDING_PAGINATION) el = elementPagination;\n\n  if (el) {\n    return Templates.renderForPromise(type, data)\n      .then(({ html, js }) => {\n        callbackBeforeRender && callbackBeforeRender();\n\n        Templates.replaceNodeContents(el, html, js);\n\n        callbackAfterRender && callbackAfterRender();\n      })\n      .catch((error) => {\n        notification.addNotification({\n          message: JSON.stringify(error),\n          type: \"error\",\n        });\n      });\n  } else {\n    notification.addNotification({\n      message: `Error while render a template: ${template}`,\n      type: \"error\",\n    });\n  }\n};\n"],"names":["TEMPLATES","MAIN_SECTION","RECORDING_SECTION","RECORDING_TABLE_CONTENT","RECORDING_PAGINATION","async","data","type","callbackBeforeRender","callbackAfterRender","el","elementMainSection","document","getElementById","elementRecordingTableContent","elementRecordingSection","elementPagination","Templates","renderForPromise","then","_ref2","html","js","replaceNodeContents","catch","error","addNotification","message","JSON","stringify","template"],"mappings":"maAKaA,UAAY,CACvBC,aAAc,0BACdC,kBAAmB,gCACnBC,wBAAyB,sCACzBC,qBAAsB,yFAOMC,MAAAA,WAAOC,KACnCA,KADmCC,KAEnCA,KAFmCC,qBAGnCA,qBAHmCC,oBAInCA,0BAEIC,GAAK,WACHC,mBAAqBC,SAASC,eAAe,uBAC7CC,6BAA+BF,SAASC,eAC5C,mCAEIE,wBAA0BH,SAASC,eACvC,0BAEIG,kBAAoBJ,SAASC,eACjC,wCAGEN,OAASP,UAAUC,eAAcS,GAAKC,oBACtCJ,OAASP,UAAUE,oBACrBQ,GAAKK,yBACHR,OAASP,UAAUG,0BACrBO,GAAKI,8BACHP,OAASP,UAAUI,uBAAsBM,GAAKM,mBAE9CN,UACKO,mBAAUC,iBAAiBX,KAAMD,MACrCa,MAAKC,YAACC,KAAEA,KAAFC,GAAQA,UACbd,sBAAwBA,0CAEde,oBAAoBb,GAAIW,KAAMC,IAExCb,qBAAuBA,yBAExBe,OAAOC,8BACOC,gBAAgB,CAC3BC,QAASC,KAAKC,UAAUJ,OACxBlB,KAAM,mCAICmB,gBAAgB,CAC3BC,iDAA2CG,UAC3CvB,KAAM"}
{"version":3,"file":"activity.min.js","sources":["../src/activity.js"],"sourcesContent":["/* eslint-disable */\n\nimport {\n  clearMainSection,\n  endMeeting,\n  joinMeeting,\n  startMeeting,\n} from \"./meeting\";\nimport { getRecordings } from \"./recording\";\n\nM.mod_tutoom = M.mod_tutoom || {};\n\nexport const init = (params) => {\n  window.tutoom = params;\n\n  const { showRecordings } = params;\n\n  document.addEventListener(\"click\", async (e) => {\n    const elementName = e.target.name;\n    const elementId = e.target.id;\n\n    if (elementId) {\n      if (elementId === \"tutoom-start-button\") startMeeting(e);\n      if (elementId === \"tutoom-end-button\") endMeeting(e);\n      if (elementId === \"tutoom-join-button\") joinMeeting(e);\n\n      if (elementId === \"tutoom-recordings-btn-previous\") {\n        const classNames = e.target.className;\n        if (classNames.includes(\"disabled\")) {\n          e.preventDefault();\n        } else {\n          const currentPage = document.getElementById(\n            \"tutoom-recordings-current-page\"\n          ).value;\n\n          await getRecordings({ page: parseInt(currentPage) - 1 });\n        }\n      }\n\n      if (elementId === \"tutoom-recordings-btn-next\") {\n        const classNames = e.target.className;\n        if (classNames.includes(\"disabled\")) {\n          e.preventDefault();\n        } else {\n          const currentPage = document.getElementById(\n            \"tutoom-recordings-current-page\"\n          ).value;\n\n          await getRecordings({ page: parseInt(currentPage) + 1 });\n        }\n      }\n    }\n\n    if (elementName) {\n      if (elementName === \"btn-page\") {\n        const page = parseInt(e.target.value);\n        const currentPage = parseInt(\n          document.getElementById(\"tutoom-recordings-current-page\").value\n        );\n\n        if (currentPage === page) {\n          e.preventDefault();\n          return;\n        }\n\n        await getRecordings({ page });\n      }\n    }\n  });\n\n  setTimeout(async () => {\n    if (showRecordings) {\n       await getRecordings({ page: 1 });\n    }\n  }, 1);\n};\n"],"names":["M","mod_tutoom","params","window","tutoom","showRecordings","document","addEventListener","async","elementName","e","target","name","elementId","id","className","includes","preventDefault","currentPage","getElementById","value","page","parseInt","setTimeout"],"mappings":"wLAUAA,EAAEC,WAAaD,EAAEC,YAAc,iBAEVC,SACnBC,OAAOC,OAASF,aAEVG,eAAEA,gBAAmBH,OAE3BI,SAASC,iBAAiB,SAASC,MAAAA,UAC3BC,YAAcC,EAAEC,OAAOC,KACvBC,UAAYH,EAAEC,OAAOG,MAEvBD,UAAW,IACK,wBAAdA,YAAqC,yBAAaH,GACpC,sBAAdG,YAAmC,uBAAWH,GAChC,uBAAdG,YAAoC,wBAAYH,GAElC,mCAAdG,UAAgD,IAC/BH,EAAEC,OAAOI,UACbC,SAAS,YACtBN,EAAEO,qBACG,OACCC,YAAcZ,SAASa,eAC3B,kCACAC,YAEI,4BAAc,CAAEC,KAAMC,SAASJ,aAAe,QAItC,+BAAdL,UAA4C,IAC3BH,EAAEC,OAAOI,UACbC,SAAS,YACtBN,EAAEO,qBACG,OACCC,YAAcZ,SAASa,eAC3B,kCACAC,YAEI,4BAAc,CAAEC,KAAMC,SAASJ,aAAe,SAKtDT,aACkB,aAAhBA,YAA4B,OACxBY,KAAOC,SAASZ,EAAEC,OAAOS,UACXE,SAClBhB,SAASa,eAAe,kCAAkCC,SAGxCC,iBAClBX,EAAEO,uBAIE,4BAAc,CAAEI,KAAAA,WAK5BE,YAAWf,UACLH,sBACK,4BAAc,CAAEgB,KAAM,MAE9B"}